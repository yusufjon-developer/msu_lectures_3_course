# Лекция 1

# Организация информационных сетей

Информационная сеть представляет с собой совокупность аппаратных программных и организационных средств предназначенных
для обеспечения обмена данными между пользователями серверами и внешними информационными ресурсами. Информационные сети
появились сразу после того как были созданы первые компьютеры. В начале 60-х годов 20 века ученые работающие в области
компьютерных технологий в разных частях США начали искать пути для установления непосредственной связи между машинами и
их
пользователями. К концу 60-х годов правительство США пришло к пониманию огромной роли компьютеров в образовании, а также
в исследованиях и разработках относящиеся к военной сфере исходя из этого правительство. Исходя из этого правительство
решило финансировать в создании экспериментальной сети которая способствовала бы успешному проведению исследований в
удаленных научных центрах и развивало бы практику обмена информации. Эта сеть учрежденная агенством перспективных
исследований США которая называлась US Advanced Research Project Agency и была названа ARPANET. Одной из главных целей
исследований проводивший ARPANET была
создание сети сохраняющий работоспособность при нарушении связи между отдельными ее частями кроме того эта сеть должна
была позволять исключать узлы или добавлять новые узлы с минимальными затратами, а также предоставлять компьютерам
различных типов возможность связываться между собой. Одним из главных итогов развития ARPANET унаследованных сегодняшним
Internet стало создание сетевых протоколов TCP/IP (Transmission Control Protocol/Internet Protocol) т.е. специального
языка на котором компьютеры, включенные в сеть, общаются между собой и эти
протоколы с 70-х стали стандартами для ARPANET. Увелечения числа пользователей способствовала появлению многого сетевых
услуг доступного в современном интернете. Включая электронную почту передачу файлов и доступ к удаленным компьютером в
режиме терминала в начале 80-х годов все исследовательские сети подключенные к ARPANET уже использовали протоколы TCP/IP
и ARPANET для зарождающийся сети интернет стала представлять собой магистральную сеть обеспечивающую физическое
соединение
между важнейшими узлами. Процесс перехода отдельных сетей к протоколам TCP/IP был фактически завершен к концу 1983 года
и в результате чего родилась новая сеть интернет. По появлению нового сети интернет в нем насчитывалась всего 213
зарегистрированных хост компьютеров. К февралю 86 года число хостов возросла до 2308 единиц на сегодняшний день это
число
превосходить несколько десятков миллионов.

## Хост (host)

Хост компьютеры или хост называется компьютеры которые включены в сет и предоставляют различные виды сетевого сервиса. В
обычном смысле интернет не принадлежать никому. Работа магистральных коммуникаций расположенных на территории различных
стран финансируются из средств различных фондов. Например, на территории США это средства финансируется National Science
Foundation. Основные вопросы связанные с технической поддержкой решаются комитетом Internet Engineering Task Force. Все
международные сегменты интернет признают решения и стандарты утвержденные Internet Architecture Board. Кроме ARPANET и в
других странах тоже занимались вопросами связи между компьютерами и обмена информации, но из-за того что ни смогли
разработать единый стандарт связи между компьютерами не смогли развиваться дальше локальной сети со связью нескольких
однотипных компьютеров. В современных условиях подключения локальной вычислительной сети организации к сети интернет
является обязательным условием эффективной деятельности предприятия. Существует типовая схема подключение сети
предприятия к интернету.

Существует типовая схема подключения сети предприятия к Интернету:

```text
         ┌───────────────────────┐
         │       Интернет        │
         └──────────┬────────────┘
                    │
                    ▼
         ┌───────────────────────┐
         │       Провайдер       │
         └──────────┬────────────┘
                    │
                    ▼
         ┌───────────────────────┐
         │   Физический канал    │
         └──────────┬────────────┘
                    │
                    ▼
         ┌───────────────────────┐
         │     Маршрутизатор     │
         └──────────┬────────────┘
                    │
                    ▼
         ┌───────────────────────┐
         │   Межсетевой экран    │
         └──────────┬────────────┘
                    │
                    ▼
         ┌───────────────────────┐
         │      Коммутатор       │
         └───┬──────┬────────┬───┘
             │      │        │
     ┌───────▼┐ ┌───▼─────┐ ┌▼────────┐
     │ Сервер │ │ Рабочие │ │  Wi-Fi  │
     └────────┘ └─────────┘ └─────────┘
```

Данная схема отображает базовую архитектуру корпоративной сети с централизованным выходом в интернет.
Выбор провайдера является .... этапом создание сети. При этом учитываются технические и экономические параметры.
Существуют следующие критерии выбора интернет провайдера.

| Критерий                  | Описание                                    |
|:--------------------------|:--------------------------------------------|
| **Тип подключения**       | Оптоволокно, Ethernet, xDSL, радиоканал     |
| **Скорость**              | Входящая и исходящая пропускная способность |
| **Надежность**            | SLA, резервирование каналов                 |
| **Стоимость**             | Подключение и ежемесячная оплата            |
| **Дополнительные услуги** | Статические IP, защита, DNS                 |

Для ВУЗов и крупных предприятий рекомендуется использовать корпоративные тарифы с гарантированной полосой пропускания.
Физический канал соединяет оборудования провайдера и сеть предприятия. Этот участок называют последней милей. Основные
этапы организации физического канала являются:

1. Обследования здания
2. Выбор трассы по прокладки кабеля
3. Монтаж кабельной системы
4. Установка оконечного оборудования

Существует несколько вариантов организации "Последней мили".

| Тип канала      | Преимущества                 | Недостатки                |
|:----------------|:-----------------------------|:--------------------------|
| **Оптоволокно** | Высокая скорость, надежность | Высокая стоимость         |
| **Витая пара**  | Дешевизна, простота          | Ограничение по расстоянию |
| **Радиоканал**  | Быстрое развертывание        | Зависимость от помех      |

## IP адресация и классы адресов

IP адресация определяет правила идентификации устройств в сети в корпоративных сетях обычно используют частные IP
адреса с трансляцией. Существуют некая схема IP адресации которое рекомендуется использовать для организации сети.

NAT
Сеть предприятия: 192.168.10.0/24
Маршрутизатор: 192.168.10.1
Серверы: 192.168.10.10-20
Рабочие станции: 192.168.10.50-200

Существуют в основном 3 класса IP адресов

| Класс | Диапазон номера сети | Диапазон номера узлов |
|:------|:---------------------|:----------------------|
| **A** | 1-126                | 0.0.1-255.255.254     |
| **B** | 128.0-191.255        | 0.1-255.254           |
| **C** | 192.0.0-223.255.255  | 1-254                 |

| Класс | Первые биты | Наименьший номер сети | Наибольший номер сети | Максимальное число машин в сети        |
|:-----:|:-----------:|:----------------------|:----------------------|:---------------------------------------|
| **A** |      0      | 1.0.0.0               | 126.0.0.0             | 16777216                               |
| **B** |     10      | 128.0.0.0             | 191.255.0.0           | 65536                                  |
| **C** |     110     | 192.0.1.0             | 223.255.255.0         | 256                                    |
| **D** |    1110     | 224.0.0.0             | 239.255.255.255       | Групповые адреса                       |
| **E** |    11110    | 240.0.0.0             | 247.255.255.255       | Зарезервировано для будущих применений |

# Лекция 2

# Динамическое выделение IP адресов

В современных компьютерных сетях каждому устройству для работы в сети со стандартом TCP/IP требуется уникальный IP
адрес. Назначение IP адресов можно выполнят вручную (статическая адресация) или автоматическим (динамическая адресация)
при большом количестве устройств ручная настройка становится не эффективной и подвержена ошибками для автоматизации
процесса распределения **сетей используется** протокол DHCP - Dynamic Host Configuration Protocol, который обеспечивает
динамическое выделение IP адресов и других параметров сетевой конфигурации.

# Статическая IP адресация

При статическом адресации требуются значение IP адреса, маски сети, шлюз и DNS серверы которые настраивается вручную на
каждом устройстве.

# Маска сети

Маска сети это 32 битное значение целого числа, который состоит из 4 частей разделенные друг от друга точкой, каждая
часть которой состоит и 8 битов.

# Шлюз

Шлюз это некое пространство или "переходник" между сетями и он нужен для того чтобы устройство из одной сети могли
общаться с другой сетью.

# DNS

DNS - Domain Name System это система доменных имен и предназначен, для того чтобы переводить в числовое значение адреса
сайтов которые, как обычно, вводятся в адресною строку браузера.

При использовании статической IP адресации существуют следующие преимущество и недостатки.

Преимущество:

- Предсказуемость адресов;
- Они удобны для серверов и сетевого оборудования.

Недостатки:

- трудоёмкость настройки;
- высокая вероятность ошибки;
- Сложность администрирования.

При динамической адресации все сетевые параметры автоматически назначаются устройством при подключении к сети.

Преимущество:

- Это простота администрирования;
- Уменьшение количество ошибок;
- Централизованное управление.

Недостатки:

- Необходимость наличие DHCP сервера;
- Временный характер IP адресов.

# DHCP

DHCP это сетевой протокол прикладного уровня предназначенный для автоматической передачи клиентам следующих параметров:

- IP адрес;
- Маска подсети;
- Адрес шлюза;
- Адреса DNS серверов;
- Время аренды IP адреса.

Он больше всего широко используется в локальных и корпоративных сетях и функционирует по модели клиент-сервер.

# DHCP клиент

DHCP клиент это устройство запрашивающие сетевые параметры.

# DHCP сервер

DHCP сервер это устройство или служба распределяющая IP адреса и параметры сети. Для передачи сообщений DHCP
используется протокол UDP. Обычно для серверов код 67, а для клиентов код 68. Процесс взаимодействия клиента и сервера
состоит из 4 этапов известных как DORA.

1. Discover - клиент отправляет широковещательный запрос на поиск DHCP сервера;
2. Offer - сервер предлагает клиенту IP адрес и параметры сети;
3. Request - клиент подтверждает запрос на использование предложенного адреса;
4. Acknowledge - сервер подтверждает аренду IP адреса.

IP адрес предоставляется клиенту на ограниченное время называемое временем аренды (lease time). По истечению половину
времени аренды клиент пытается продлить ее автоматически, если продление невозможно адрес возвращается в пул свободных
адресов. DHCP сервер выполняет следующие задачи:

- Хранение пула IP адресов;
- Назначение адресов клиентам;
- Предотвращение конфликтов IP адресов;
- Ведение журнала выданных адресов.

Основными параметрами DHCP сервера являются:

| Параметр        | Назначение          |
|:----------------|:--------------------|
| Scope (пул)     | Диапазон IP-адресов |
| Subnet Mask     | Маска подсети       |
| Default Gateway | Шлюз по умолчанию   |
| DNS Servers     | DNS-серверы         |
| Lease Time      | Время аренды        |

Перечисленные параметры задается и/или настраиваются в сетевых оборудованиях со стороны сетевых администраторов в
различных маршрутизаторах или специальных ПО. В большинство сетевых оборудований или ПО заложен алгоритм для
распределения IP адресов и он состоит из следующих шагов:

1. IP адрес переведется в двоичную систему исчисления и записывается;
2. Маска переводиться в двоичную систему исчисления и записывается;
3. выполняется наложение маски на IP адрес и записывается диапазон номеров подсети в двоичную систему исчисления;
4. Переведется и записывается диапазон из двоичной системы исчисления в десятичную.

Существуют некоторые проблемы DHCP серверов и определенные меры безопасности.
Возможные проблемы:

1. Отсутствие DHCP сервера;
2. Исчерпание пула IP адресов;
3. Наличие нескольких DHCP серверов в одной сети;
4. Конфликты адресов.

Меры безопасности:

1. Фильтрация по мак адресам;
2. Использование DHCP Snooping;
3. Сегментация сети VLAN;
4. Контроль физического доступа к сети.

# [Задание для самостоятельной работы](Задачи.md)

# Лекция 3

...соответственно при реализации различных веб серверов (страниц) все необходимые файлы размешаются внутри папки www,
которые в свою очередь находится внутри той папки в названии которого указываются домена второго и верхнего уровней.
Регистры или регистраторы являются организаторами которые, осуществляют регистрацию доменных имен и ведение и ведение
соответствующих баз данных. Регистрация домена включает:

1. Проверку уникальности имени;
2. Привязку домена к DNS серверам;
3. Внесение информации в реестр.

Служба DNS построена по распределенному принципу и включает следующие типы серверов:

1. Корневые DNS серверы;
2. Серверы доменов верхнего уровня;
3. Авторитативные DNS серверы.

DNS серверы взаимодействуют друг с другом по запросу клиентов и других серверов обеспечивая масштабируемость и
отказоустойчивость системы. DNS клиентам является любой host использующий службу DNS. Конфигурация клиента включает
указание адресов DNS сервера. Для различных ОС параметры DNS задаются в определенных файлах. Например, для ОС Windows
параметры DNS хранятся в файле который содержит параметры реестра и эти же значения хранятся по ключам
Компьютер\HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\Tcpip\Parameters\Interfaces, а для GNU\Linux они хранятся
в /etc/resolve.conf. Помимо DNS могут использоваться и другие механизмы распознавания имен.

- Файл hosts;
- Службы NIS/NIS+;
- службы mDNS и LLMNR.

Процесс выполнение DNS запроса включает в себе следующие этапы:

1. Проверка локального кэша;
2. Обращение к файлу hosts;
3. Запрос к настроенному DNS серверу;
4. Рекурсивный или итеративный опрос других DNS серверов;
5. Получение и кэширование результата.

В ОС существует специальная утилита с названием nslookup который используется для диагностики и тестирования работы DNS.
К основным возможностям данной утилиты относятся определение IP адреса по имени, проверка записи DNS и запросы к
конкретному DNS серверу. Чтобы воспользоваться данной утилитой необходимо запустить командную строку и в нем набрать
команду nslookup и через пробел указать символьный адрес сервера. По выполнению команды можно получить числовой адрес
указанного сервера. Существуют первичные и вторичные DNS серверы, первичный master ..., вторичный сервер slave получает
копии зон с первичного сервера. Использование вторичных серверов повышает отказоустойчивость и распределяет нагрузку.
Файл зоны содержит записи ресурсов, сопоставляющий имена с IP адресами. Существуют следующие типы стандартных записей
ресурсов:

1. A - IPv4;
2. AAAA - IPv6;
3. NS - DNS сервер зоны;
4. MX - почтовый сервер;
5. CNAME - это каноническое имя;
6. SOA - информация о зоне.

В качестве файлов зон могут использоваться файл прямой зоны, файл обратной зоны - используется для преобразования IP
адресов в имена и файл локальной петли - обслуживает домен localhost и адрес 127.0.0.1. Поддомен обычно создается путем
добавления соответствующей NS записи, создания отдельной файлы зоны и указание делегирования на поддомен. Для
обеспечения полноценной работы всех узлов сети обычно указываются IP адреса класса C в качестве адреса DNS сервера, а
для хостов IP адреса класса A.

# [Задание для самостоятельной работы](Задачи.md)

# Электронная почта

Электронная почта это основной способ обмена информации в сети интернет. Она обеспечивает передачу сообщений и других
данных между пользователями с помощью сетевых протоколов и серверов. Служба электронной почти состоит из

1. Пользовательских агентов (Mail User Agent - MUA) программы с которым работает пользователь. Самый известный Outlook;
2. Почтовых транспортных агентов (Mail Transfer Agent - MTA) они обеспечивают пересылку писем между серверами. Примерами
   являются sendmail, PostFix;
3. Почтовых хранилищ агентов доставки (Mail Delivery Agent - MDA) доставляют сообщения в почтовый ящик пользователя.

Обычно адрес почты состоит из двух частей имя пользователя и домен почтового сервера. Эти части обычно отделяются друг
от друга символом @. Например, user@mail.ru. Существуют несколько различных протоколов и стандартов которые используются
в службах электронной почти:

1. SMTP Send Mail Transfer Protocol - протокол отправки почти;
2. POP3 Post Office Protocol Version 3 - протокол получение почты;
3. IMAP Internet Message Access Protocol - протокол получения и управления почтой на сервере;
4. MIME Multipurpose Internet Mail Extensions - расширение формата сообщений для поддержки разных типов данных.

В разных ОС используются определенные почтовые агенты. Windows - Outlook, Thunderbird и Windows Mail. GNU\Linux и Unix -
Thunderbird, Evolution, Mutt и Pine. Консольные клиенты - mail, mailx и mutt. Сообщение электронной почты обычно состоит
из двух частей заголовок и тела.

1. Header (заголовок): From, To, Subject, Date, CC/BCC (копии), Message-ID;
2. Body (тело): текст сообщения и/или прикрепленные файлы. Обычно в этой части используется поле с типом MIME и он
   позволяет отправлять сообщения с различными типами контента, использовать различные колировки символов и создавать
   составные сообщения с несколькими частями.

Для каждого из почтовых протоколов существуют определенные команды которые
выполняют соответсвующий к ним операции.

1. SMTP: HELO/EHLO - идентификация клиента, Mail From - данные отправителя, RCPT TO - данные получателя, DATA -
   начало тела сообщения, QUIT - завершение сеанса;
2. POP3: USER - имя пользователя, PASS - пароль, LIST - это список сообщений, RETR - это получения сообщения, DELE -
   удалить сообщение, QUIT - завершение сеанса;
3. IMAP: не имеются определенные конкретные команды, как в случаях с SMTP и POP3, но он позволяет работать с почтой
   непосредственно в сервере, создавать папки и управлять ими, отметить письма как прочитанные/непрочитанные и
   поддерживает скачивания сообщений частично.

Для каждого из перечисленных протоколов существуют определенные стандарты которые имеют определенные номера с указанием
серии документа как RFC (Request for Comments). Например, для протокола SMTP применятся стандарт RFC 2821, для POP3 RFC
1939, для IMAP RFC 3501 и для MIME RFC 2045. Наподобие этого и для других протоколов тоже имеются соответсвующий
документ с определенными номерами.

| Номер RFC    | Протоколы и/или службы              |
|:-------------|:------------------------------------|
| **RFC 768**  | UDP                                 |
| **RFC 791**  | IP                                  |
| **RFC 793**  | TCP                                 |
| **RFC 822**  | Формат э.п., заменен на RFC 2822    |
| **RFC 959**  | FTP                                 |
| **RFC 1034** | DNS — концепция                     |
| **RFC 1035** | DNS — внедрение                     |
| **RFC 1591** | Структура доменных имен             |
| **RFC 1738** | URL                                 |
| **RFC 1939** | POP3                                |
| **RFC 2026** | Процесс стандартизации в Интернете  |
| **RFC 2045** | MIME                                |
| **RFC 2231** | Кодировка символов                  |
| **RFC 2616** | HTTP                                |
| **RFC 2822** | Формат э.п.                         |
| **RFC 3501** | IMAP версии 4 издание 1 (IMAP4rev1) |

Один из первых и популярных почтовых транспортных агентов который был реализован для ОС UNIX и позднее был применен в
GNU\Linux является sendmail. К основным функциям sendmail относятся пересылка сообщений между серверами, доставка
сообщений в локальные почтовые ящики, поддержка псевдонимов и списков рассылки и поддержка пересылки. К составным частям
sendmail относятся demon sendmail который обслуживает SMTP запросы, конфигурационные файлы (sendmail.cf, access,
aliases) и лог файлы. Псевдонимы связывают имя пользователя с другим адресом или списком адресов. Списки рассылки
позволяют отправлять письмо группе пользователей. Пересылка пересылает с одного ящика на другой. Основной файл
конфигурации sendmail содержит макросы и классы, правила и наборы правил, определения агентов доставки и параметры
безопасности. В каждом из этих частей содержаться операции выполняющие определенные действия в зависимости от выбранной
операции. Для организации службы электронной почти необходимо достаточно уровни понять протоколы SMTP, POP3, IMAP,
структуры сообщений MIME и различные конфигурации в sendmail. Которые позволяют эффективно управлять почтовую
инфраструктуру, обеспечивать доставку и безопасность системы.

# Информационные сервисы

Информационные сервисы обеспечивают доступ к различным данным и приложениям через сети TCP/IP. К основным сервисам
относятся такие сервисы как FTP, HTTP и WWW серверы. Для эффективной организации таких сервисов требуется знания
соответствующих протоколов, конфигурации серверов, управление доступом и безопасности. Каждую из перечисленных сервисов
рассматриваем по отдельности.

### FTP

FTP (File transfer Protocol) предназначен для передачи файлов в компьютерных сетях он позволяет подключиться к серверам
ftp просматривать содержимое каталогов и загружать файлы с сервера или на сервер, кроме того возможен режим передачи
файлов между серверам FTP. Данный протокол работает независимо от ОС. К основным командам службы FTP относятся USER
пользователь,
PASS пароль, LIST список файлов и директорий, RETR загрузка файла с сервера, STOR отправка файла на сервер, CWD смена
текущей директории, PWD вывод
текущей директории и QUIT завершение сессии. FTP сервера могут работать в двух режимах активный и пассивный. В активном
режиме клиент открывает порт и сервер устанавливает соединение для передачи данных. В пассивном режиме сервер открывает
порт для передачи данных и клиент подключается к нему. Существуют анонимные FTP. Они позволяют пользователям скачивать
файлы без регистрации. Их настройка включает:

1. Создание отдельного пользователя FTP или виртуального;
2. Настройку домашней директории;
3. Ограничение прав доступа;
4. Настройку логирования.